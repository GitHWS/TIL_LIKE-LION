<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>for...in, for...of문</title>
  </head>
  <body>
    <script>
      // for...in : 키에 접근하기 쉬움

      let value = [10, 1, 100, 200, 300, 10];

      // 배열의 데이터 타입은 "object"라서 for...in으로 순회를 했을 때 키 값인 '인덱스'가 나오게 됨
      // 배열의 키는 인덱스가 되기 때문임
      console.log("typeof value : " + typeof value);
      for (let i in value) {
        console.log(i);
      }

      let value2 = {
        피카츄: 1,
        라이츄: 2,
        파이리: 3,
        꼬부기: 4,
        버터플: 5,
        야도란: 6,
        피죤투: 7,
        또가스: 8,
        메타몽: 9,
      };

      console.log("typeof value2 : " + typeof value2);
      for (let i in value2) {
        console.log(i); // key에 접근
        console.log(value2[i]); // value에 접근
      }

      let value3 = {
        피카츄: 10,
        라이츄: 20,
        파이리: 30,
        꼬부기: 40,
        버터플: 50,
        야도란: 60,
        피죤투: 70,
        또가스: 80,
        메타몽: 90,
      };

      console.log("typeof value3 : " + typeof value3);
      for (let i in value3) {
        console.log(i); // key에 접근
        console.log(value3[i]); // value에 접근
      }

      // 문자열 순회
      for (let i in "hello world") {
        console.log(i);
        console.log("hello world"[i]);
      }

      let 포켓몬 = Object.keys(value3);

      for (let i in 포켓몬) {
        console.log(포켓몬[i]);
      }

      // for...of : 요소의 값에 바로 접근할 수 있어서 유용
      for (let i of [10, 20, 30, 40]) {
        console.log(i);
      }

      // Object.entries() : [key, value] 쌍의 배열을 반환
      // i를 Object.entries(value3)의 key, j를 Object.entries(value3)의 value에 연결됨(언패킹)

      console.log(Object.entries(value3));

      for (let [i, j] of Object.entries(value3)) {
        console.log(i);
        console.log(j);
      }

      for (let [i, j] of [
        [1, 2],
        [3, 4],
      ]) {
        console.log(i, j);
      }

      // 문제. 구조분해 할당

      let [a, b] = [10, 20];
      console.log(a, b);

      // 전개 구문을 이용하면 나머지 요소를 다 할당한다. 전개구문은 항상 마지막에 작성되어야함
      let [c, d, ...e] = [10, 20, 30, 40, 50];
      console.log(e);

      // https://chanhuiseok.github.io/posts/js-10/
      // https://ko.javascript.info/destructuring-assignment

      let arr = [
        [[1, 2], 2],
        [[1, 2], 4],
      ];

      // 쉽게 생각하면 let 변수 of 객체에서 변수와 객체의 형태가 같아야함
      for (let [[i, j], k] of arr) {
        console.log(i, j, k);
      }

      // 객체의 데이터 가져오기 (key와 일치해야함)
      let obj = { name: "hojun", age: "10", height: "20" };
      let { name, age, height } = obj;

      console.log(name);
      console.log(age);
      console.log(height);

      // 원하는 데이터만 추출할 수도 있음
      let { name2, age2 } = { name2: "hojun", height2: "20", age2: "10" };

      console.log(name2, age2);

      // 전개구문(...rest) 사용시
      let { name3, ...rest } = { name3: "hojun", height3: "20", age3: "10" };
      console.log(rest);

      // 전개구문이 언제 가능한지의 유무를 알아야됨
      let arr1 = [10, 20, 30];

      let arr2 = [1, ...arr1, 2];

      console.log(arr2);

      // Math를 사용할때

      let arr3 = [3, 5, 1, 10, 8, 7];

      // Math.max(arr3)를 그냥 쓰면 NaN, 왜냐하면 배열이 아닌 숫자의 나열형태로 적용해야함 그래서 아래 전개구문을 사용함
      console.log(Math.max(...arr3));

      let arr4 = [1, -2, 3, 4];
      let arr5 = [8, 3, -8, 1];

      // 전개구문을 통한 배열 병합
      console.log([100, 200, ...arr1, ...arr2]);

      // 문자열을 전개구문으로 사용하면?
      let str = "hello world";
      console.log([...str]);
    </script>
  </body>
</html>
